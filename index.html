<!doctype html>
<html lang="en" ng-app="myApp" class="ng-cloak">
	<head>
		<meta charset="UTF-8">
		<title>Let's learn Angular, by playing pathfinder!</title>
		<script src="bower_components/jquery/dist/jquery.js"></script>
		<script src="bower_components/jquery-ui/jquery-ui.js"></script>
		<script src="lib/angular/angular.js"></script>
		<script src="js/controllers.js"></script>
		<script src="bower_components/angular-bootstrap/ui-bootstrap.js"></script>
		<script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
		<script src="js/behavior.js"></script>
		
		<link rel="stylesheet" href="css/style.css">
		<link rel="stylesheet" href="css/charsheetstyle.css">
		<link rel="stylesheet" href="css/bootstrap.css">
	</head>
	<body ng-controller = "statController">
	<div class="displayArea" >

	<div class="nameClassHeader">

		<div class="nameDisplayArea">
			<span class="nametag"><h1 class="namebox">{{user.name}}</h1></span>
			<div class="levelName"></div>
		</div>

			<div class="classRace">Level 1 {{race.type}}   {{selectedClass.type}}</div>

		</div>
			
			<div id="hpDetails">
			 <span class="hp"> HP | {{selectedClass.health + stats[2].mod}}</span>
			 <span class="init"> Initiative | {{stats[1].modifier}}</span>
			 <span class="speed"> Speed | 30ft.</span>
			</div>
		
			<div class="statsheetlist">
				<ul class="statboxul" ng-repeat="stat in stats">
					<li class="Slabel">{{stat.label}}</li>
					<li class="Snum">{{stat.value}}</li>
					<li class="Smodifier">({{stat.modifier}})</li>
				</ul>
			</div>


			<div class="savingthrowlistbox">
			<h6>Saving Throws</h6>
				<ul class = "savingthrowlist">
					<li class=" savingLabel" ng-repeat="stat in stats">
						<span ng-if="stat.label">{{stat.label}}</span>
						<span ng-if="stat.proficient == true">+{{stat.mod + 2}}</span>
						<span ng-if="stat.proficient == false">{{stat.modifier}}</span>
					</li>
				</ul>
			</div>

			<div class="weaponDiv">
				<h3>{{selectedClass.wpn1.name}}  |   {{selectedClass.wpn1.damage}} {{stats[selectedClass.wpn1.reqStat].modifier}}</h3>
			</div>

			</div>

			<!-- <button data-toggle="modal" data-target="#myModal">open modal</button> -->



			<a href="#openModal">Open Modal</a>
			<div id="openModal" data-drag="true" jqyoui-draggable class="modalDialog">
				<div>
					

					<!-- START MODAL AREA -->
					
					<div  id="myModal" role="dialog">
						<div class="modal-header">
							<!-- <span>{{user.name}}</span> -->
						</div>
						<div  jqyoui-draggable class="modal-body">
							<div class="selectionArea">
								<input type="text" ng-model="user.name">
								<div >
									<select class=""  ng-model="selected" ng-change="selectedRace(selected)" data-ng-options="race as race.type + ' | ' + race.perks for race in racesList">
									</select><br>
									<select class="" ng-model="classChoice" ng-change="setClass(classChoice)" data-ng-options="class as class.type for class in classList">
									</select>
									<h3>Points Left: <span class="total">{{total}} out of 27</span></h3>
									<ul class='abilityscores'>
										
										<li class="stat" ng-repeat="stat in stats">
											<span class="statlabel">{{stat.label}}</span>
											<span class="statnum">{{stat.value}}</span>
											<span class="modifier">({{stat.modifier}})</span>
											<div class="statButtons">
												<button id="increaseStat" class="plusButton btn btn-primary btn-xs" ng-click="increaseStat(stat)"><span class="innerbutton">+</span></button>
												<button id="decreaseStat" class="minusButton btn btn-info btn-xs" ng-click="decreaseStat(stat)"><span class="innerbutton">-</span></button>
											</div>
										</li>
										
									</ul>
									<button id="resetScores" ng-click="revertStats()" ng-disabled="benefitsToggle">Reset Scores</button>
									<h4 id="benefitsToggle">Add Race Benefits -   <input id="benefits" type="checkbox" ng-click="applyRacialBenefits()"></h4>
									<div id="half-elf-bonus" ng-show="race.type == 'Half Elf' && benefitsToggle === true">
										<label ng-repeat="stat in stats" ng-class="{'first': $first, 'last': $last}" >{{stat.label}}
											<input type="checkbox" name="bonus" ng-model="stat.box" ng-change="checkChanged(stat); bonusStat(stat,box)" ng-disabled="checked==limit && !stat.box">
										</label>
									</div>
									<h5 ng-show="benefitsToggle" id="flashwarn">(Remove race benefits to redistribute points.)</h5>
								</div>
							</div>
						</div>
						<div style="clear:both"></div>
						<div class="modal-footer">
						</div>
					</div>
				</div>
			</div>
	
		<script src="bower_components/angular-dragdrop/src/angular-dragdrop.min.js"></script>
	</body>
</html>