var myApp=angular.module("myApp",["ui.bootstrap","ngDragDrop","ngAnimate"]);
myApp.controller("statController",function(a,f){a.user={name:""};a.stats=[{label:"str",value:8,modifier:" -1 ",proficient:!1},{label:"dex",value:8,modifier:" -1 ",proficient:!1},{label:"con",value:8,modifier:" -1 ",proficient:!1},{label:"int",value:8,modifier:" -1 ",proficient:!1},{label:"wis",value:8,modifier:" -1 ",proficient:!1},{label:"cha",value:8,modifier:" -1 ",proficient:!1}];a.total=27;a.racesList=[{id:1,type:"Human",perks:"+ All",increase_array:[0,1,2,3,4,5],speed:30,size:"Medium",languageArray:[0]},
{id:2,type:"Lightfoot Halfling",perks:"++ dex, + cha",increase_array:[1,1,5],speed:25,size:"Small",languageArray:[0,6]},{id:3,type:"Stout Halfling",perks:"++ dex, + con",increase_array:[1,1,2],speed:25,size:"Small",languageArray:[0,6]},{id:4,type:"Hill Dwarf",perks:"++ con, + wis",increase_array:[2,2,4],speed:25,size:"Medium",hillDwarfHealthBonus:1,languageArray:[0,1]},{id:5,type:"Mountain Dwarf",perks:"++ con, ++ str",increase_array:[0,0,2,2],speed:25,size:"Medium",armorTraining:["Leather","Hide",
"Scale Mail"],languageArray:[0,1]},{id:6,type:"High Elf",perks:"++ dex, + int",increase_array:[1,1,3],speed:30,size:"Medium",weaponTraining:["Longsword","Shortsword","Shortbow","Longbow"],languageArray:[0,2]},{id:7,type:"Wood Elf",perks:"++ dex, + wis",increase_array:[1,1,4],speed:35,size:"Medium",weaponTraining:["Longsword","Shortsword","Shortbow","Longbow"],languageArray:[0,2]},{id:8,type:"Dark Elf",perks:"++ dex, + cha",increase_array:[1,1,5],speed:30,size:"Medium",weaponTraining:["Rapier","Shortsword",
"Hand Crossbow"],languageArray:[0,2]},{id:9,type:"Forest Gnome",perks:"++ int, + dex",increase_array:[3,3,1],speed:25,size:"Small",languageArray:[0,4]},{id:10,type:"Rock Gnome",perks:"++ int, + con",increase_array:[3,3,2],speed:25,size:"Small",languageArray:[0,4]},{id:11,type:"Half-Orc",perks:"++ str, + con",increase_array:[0,0,2],speed:30,size:"Medium",languageArray:[0,7]},{id:12,type:"Dragonborn",perks:"++ str, + cha",increase_array:[0,0,5],speed:30,size:"Medium",languageArray:[0,10]},{id:13,type:"Tiefling",
perks:"++cha, + int",increase_array:[5,5,3],speed:30,size:"Medium",languageArray:[0,12]},{id:14,type:"Half Elf",perks:"++cha +any two",increase_array:[5,5],speed:30,size:"Medium",languageArray:[0,2,Math.floor(13*Math.random())+3]}];a.classList=[{id:1,type:"Barbarian",health:12,saveThrows:[0,2],skillOptions:"Animal Handling;Athletics;Intimidation;Nature;Perception;Survival".split(";"),maxSkills:4,wpn1Choices:["martial","Handaxe","Light Hammer"],rangedChoices:["simple","Handaxe","Light Hammer"],hasShield:!0,
armorChoices:["Natural(Barbarian)","Leather"],cantrips:!1,spellsKnown:!1,spellsDaily:!1},{id:2,type:"Bard",health:8,saveThrows:[1,5],skillOptions:"Acrobatics;Animal Handling;Arcana;Athletics;Deception;History;Insight;Intimidation;Investigation;Medicine;Nature;Perception;Performance;Persuasion;Religion;Sleight Of Hand;Stealth;Survival".split(";"),maxSkills:5,wpn1Choices:["simple","Rapier","Longsword"],rangedChoices:["simple","Hand Crossbow"],spellAbility:"cha",armorChoices:["None","Leather"],cantrips:2,
spellsKnown:4,spellsDaily:2},{id:3,type:"Cleric",health:8,saveThrows:[4,5],skillOptions:["History","Insight","Medicine","Persuasion","Religion"],maxSkills:4,wpn1Choices:["Mace","Warhammer"],rangedChoices:["simple","thrown"],hasShield:!0,spellAbility:"wis",armorChoices:["Leather","Scale Mail","Chain Mail"],cantrips:3,spellsDaily:2},{id:4,type:"Druid",health:8,saveThrows:[3,4],skillOptions:"Arcana;Animal Handling;Insight;Medicine;Nature;Perception;Religion;Survival".split(";"),maxSkills:4,wpn1Choices:["simple"],
rangedChoices:["Dart","Javelin","Sling","Shortbow"],hasShield:!0,spellAbility:"wis",armorChoices:["None","Leather"],cantrips:2,spellsDaily:2},{id:5,type:"Fighter",health:10,saveThrows:[1,2],skillOptions:"Acrobatics;Animal Handling;Athletics;History;Insight;Intimidation;Perception;Survival".split(";"),maxSkills:4,wpn1Choices:["martial","Handaxe","Light Hammer"],rangedChoices:["simple","martial"],hasShield:!0,armorChoices:["Leather","Scale Mail","Chain Mail"],cantrips:!1,spellsKnown:!1,spellsDaily:!1},
{id:6,type:"Monk",health:8,saveThrows:[1,4],skillOptions:"Acrobatics Athletics History Insight Religion Stealth".split(" "),maxSkills:4,wpn1Choices:["Martial Arts"],rangedChoices:["Dart","Shortbow"],spellAbility:"wis",armorChoices:["Natural(Monk)"],cantrips:!1,spellsKnown:!1,spellsDaily:!1},{id:7,type:"Paladin",health:10,saveThrows:[0,4],skillOptions:"Athletics Insight Intimidation Medicine Persuasion Religion".split(" "),maxSkills:4,wpn1Choices:["martial","Handaxe","Light Hammer"],hasShield:!0,spellAbility:"wis",
rangedChoices:["Javelin","Light Hammer"],armorChoices:["Leather","Scale Mail","Chain Mail"],cantrips:!1,spellsDaily:!1},{id:8,type:"Ranger",health:10,saveThrows:[1,4],skillOptions:"Animal Handling;Athletics;Insight;Investigation;Nature;Perception;Stealth;Survival".split(";"),maxSkills:5,wpn1Choices:["simple","martial"],hasShield:!0,spellAbility:"wis",rangedChoices:["Shortbow","Light Crossbow","martial"],armorChoices:["Leather","Hide","Scale Mail"],cantrips:!1,spellsDaily:!1},{id:9,type:"Rogue",health:8,
saveThrows:[1,3],skillOptions:"Acrobatics;Athletics;Deception;Insight;Intimidation;Investigation;Perception;Performance;Persuasion;Sleight of Hand;Stealth".split(";"),maxSkills:6,wpn1Choices:["Rapier","Shortsword","Dagger"],rangedChoices:["Shortbow","Hand Crossbow","Dart"],armorChoices:["Leather"],cantrips:!1,spellsDaily:!1},{id:10,type:"Sorceror",health:6,saveThrows:[2,5],skillOptions:"Arcana Deception Insight Intimidation Persuasion Religion".split(" "),maxSkills:4,wpn1Choices:["simple"],spellAbility:"cha",
rangedChoices:["Dart","Sling"],armorChoices:["None"],cantrips:4,spellsKnown:2,spellsDaily:2},{id:11,type:"Wizard",health:6,saveThrows:[3,4],skillOptions:"Arcana History Insight Investigation Medicine Religion".split(" "),maxSkills:4,wpn1Choices:["Quarterstaff","Dagger"],spellAbility:"int",rangedChoices:["Dart","Sling","Light Crossbow"],armorChoices:["None"],cantrips:3,spellsKnown:6,spellsDaily:2},{id:12,type:"Warlock",health:8,saveThrows:[4,5],skillOptions:"Arcana Deception History Intimidation Investigation Nature Religion".split(" "),
maxSkills:4,wpn1Choices:["simple"],spellAbility:"cha",rangedChoices:["simple"],armorChoices:["Leather"],cantrips:2,spellsKnown:2,spellsDaily:1}];a.skills=[{label:"Acrobatics",req:"dex",proficient:!1},{label:"Animal Handling",req:"wis",proficient:!1},{label:"Arcana",req:"int",proficient:!1},{label:"Athletics",req:"str",proficient:!1},{label:"Deception",req:"cha",proficient:!1},{label:"History",req:"int",proficient:!1},{label:"Insight",req:"wis",proficient:!1},{label:"Intimidation",req:"cha",proficient:!1},
{label:"Investigation",req:"int",proficient:!1},{label:"Medicine",req:"wis",proficient:!1},{label:"Nature",req:"int",proficient:!1},{label:"Perception",req:"wis",proficient:!1},{label:"Performance",req:"cha",proficient:!1},{label:"Persuasion",req:"cha",proficient:!1},{label:"Religion",req:"int",proficient:!1},{label:"Sleight of Hand",req:"dex",proficient:!1},{label:"Stealth",req:"dex",proficient:!1},{label:"Survival",req:"wis",proficient:!1}];a.skillsPicked=function(){for(var b=0,c=0;c<a.skills.length;c++)!0===
a.skills[c].proficient&&(b+=1);return b};a.backgrounds=[{label:"Acolyte",skills:["Insight","Religion"],languages:2},{label:"Charlatan",skills:["Deception","Sleight of Hand"]},{label:"Criminal",skills:["Deception","Stealth"]},{label:"Entertainer",skills:["Acrobatics","Performance"]},{label:"Folk Hero",skills:["Animal Handling","Survival"]},{label:"Guild Artisan",skills:["Insight","Persuasion"],languages:1},{label:"Hermit",skills:["Medicine","Religion"],languages:1},{label:"Noble",skills:["History",
"Persuasion"],languages:1},{label:"Outlander",skills:["Athletics","Survival"],languages:1},{label:"Sage",skills:["Arcana","History"],languages:2},{label:"Sailor",skills:["Athletics","Perception"]},{label:"Soldier",skills:["Athletics","Intimidation"]},{label:"Urchin",skills:["Sleight of Hand","Stealth"]}];a.languages=[{id:1,name:"Common"},{id:2,name:"Dwarvish"},{id:3,name:"Elvish"},{id:4,name:"Giant"},{id:5,name:"Gnomish"},{id:6,name:"Goblin"},{id:7,name:"Halfling"},{id:8,name:"Orc"},{id:9,name:"Abyssal"},
{id:10,name:"Celestial"},{id:11,name:"Draconic"},{id:12,name:"Deep Speech"},{id:13,name:"Infernal"},{id:14,name:"Primordial"},{id:15,name:"Sylvan"},{id:16,name:"Undercommon"}];a.meleeWeapons=[{name:"Dagger",type:"simple",damage:"1d4",reqStat:1,twoHanded:!1,light:!0,img:"Blade",isLightBlade:!0},{name:"Handaxe",type:"simple",damage:"1d6",reqStat:0,twoHanded:!1,light:!0,thrown:!0,range:"20/60",img:"HandAxe"},{name:"Light Hammer",type:"simple",damage:"1d4",reqStat:0,light:!0,thrown:!0,range:"20/60",img:"LightHammer"},
{name:"Mace",type:"simple",damage:"1d6",reqStat:0,twoHanded:!1,img:"LightHammer"},{name:"Quarterstaff",type:"simple",damage:"1d6",reqStat:0,properties:"Versatile(1d8)",twoHanded:!1,img:"QuarterStaff"},{name:"Spear",type:"simple",damage:"1d6",reqStat:0,properties:"Versatile(1d8)",twoHanded:!1,img:"Spear"},{name:"Sickle",type:"simple",damage:"1d4",reqStat:1,light:!0,img:"Sickle"},{name:"BattleAxe",type:"martial",damage:"1d8",reqStat:0,properties:"Versatile(1d10)",twoHanded:!1,img:"BattleAxe"},{name:"Flail",
type:"martial",damage:"1d8",reqStat:0,twoHanded:!1,img:"Warhammer"},{name:"Glaive",type:"martial",damage:"1d10",reqStat:0,properties:"reach",twoHanded:!0,img:"Spear"},{name:"Greataxe",type:"martial",damage:"1d12",reqStat:0,twoHanded:!0,img:"BattleAxe"},{name:"Greatsword",type:"martial",damage:"2d6",reqStat:0,twoHanded:!0,img:"GreatSword"},{name:"Maul",type:"martial",damage:"2d6",reqStat:0,twoHanded:!0,img:"WarHammer"},{name:"Halberd",type:"martial",damage:"1d10",reqStat:0,properties:"reach",twoHanded:!0,
img:"Spear"},{name:"Longsword",type:"martial",damage:"1d8",reqStat:0,properties:"Versatile(1d10)",twoHanded:!1,img:"LongSword"},{name:"Rapier",type:"martial",damage:"1d8",reqStat:1,twoHanded:!1,img:"LongSword"},{name:"Scimitar",type:"martial",damage:"1d6",reqStat:1,twoHanded:!1,light:!0,img:"Blade",isLightBlade:!0},{name:"Shortsword",type:"martial",damage:"1d6",reqStat:1,twoHanded:!1,light:!0,img:"Blade",isLightBlade:!0},{name:"Warhammer",type:"martial",damage:"1d8",reqStat:0,properties:"Versatile(1d10)",
twoHanded:!1,img:"WarHammer"},{name:"Whip",type:"martial",damage:"1d4",reqStat:1,properties:"reach",img:"Whip"},{name:"Martial Arts",damage:"1d4",reqStat:1,img:"Fist"},{name:"Shield",damage:"AC+2",armorClass:2,img:"Shield"}];a.rangedWeapons=[{name:"Dart",damage:"1d4",reqStat:1,thrown:!0,range:"20/60",type:"simple",img:"Dart"},{name:"Sling",damage:"1d4",reqStat:1,range:"30/120",type:"simple",img:"Sling"},{name:"Javelin",type:"simple",damage:"1d6",reqStat:0,twoHanded:!1,thrown:!0,range:"30/120",img:"Spear"},
{name:"Light Hammer",damage:"1d4",reqStat:0,light:!0,thrown:!0,range:"20/60",img:"LightHammer"},{name:"Handaxe",damage:"1d6",reqStat:0,twoHanded:!1,light:!0,thrown:!0,range:"20/60",img:"HandAxe"},{name:"Shortbow",damage:"1d6",reqStat:1,range:"80/320",type:"simple",img:"ShortBow"},{name:"Light Crossbow",damage:"1d6",reqStat:1,range:"80/320",type:"simple",img:"ShortBow"},{name:"Blowgun",damage:"1",range:"35/100",type:"martial",img:"Dart"},{name:"Hand Crossbow",damage:"1d6",reqStat:1,range:"40/150",
type:"martial",img:"ShortBow"},{name:"Heavy Crossbow",damage:"1d10",reqStat:1,range:"100/400",type:"martial",img:"LongBow"},{name:"Longbow",damage:"1d8",reqStat:1,range:"150/600",type:"martial",img:"LongBow"},{name:"Net",damage:"special",range:"5/15",type:"martial",img:"Whip"}];a.armorList=[{name:"None",baseAC:10,maxDexBonus:5},{name:"Leather",baseAC:11,maxDexBonus:5},{name:"Hide",baseAC:12,maxDexBonus:2},{name:"Scale Mail",baseAC:14,maxDexBonus:2,stealthDisadvantage:!0},{name:"Chain Mail",baseAC:16,
maxDexBonus:0,stealthDisadvantage:!0},{name:"Natural(Barbarian)",baseAC:10,maxDexBonus:5,extraStat:"con"},{name:"Natural(Monk)",baseAC:10,maxDexBonus:5,extraStat:"wis"}];a.levelOneFeatures=[{name:"Rage",belongsTo:"Barbarian",pgNum:"pg.48",choices:!1},{name:"Unarmored Defense(Con)",belongsTo:"Barbarian",pgNum:"pg.48",choices:!1},{name:"Bardic Inspiration",belongsTo:"Bard",pgNum:"pg.53",choices:!1},{name:"Divine Domain",belongsTo:"Cleric",pgNum:"pg.58",choices:[{title:"Knowledge",details:"Domain Spells: Command, Identify"},
{title:"Life",details:"Domain Spells: Bless, Cure Wounds"},{title:"Light",details:"Domain Spells: Burning Hands, Faerie Fire"},{title:"Nature",details:"Domain Spells: Animal Friendship, Speak with Animals"},{title:"Tempest",details:"Domain Spells: Fog Cloud, Thunderwave"},{title:"Trickery",details:"Domain Spells: Charm Person, Disguise Self"},{title:"War",details:"Domain Spells: Divine Favor, Shield of Faith"}]},{name:"Druidic",belongsTo:"Druid",pgNum:"pg.66",choices:!1},{name:"Fighting Style",belongsTo:"Fighter",
pgNum:"pg.72",choices:[{title:"Archery",details:"+2 to hit w/Ranged weapon",active:!1},{title:"Defense",details:"+1 to AC while wearing armor",active:!1},{title:"Dueling",details:"+2 damage w/1h weapon",active:!1},{title:"Great Weapon Fighting",details:"Re-Roll 1&2 w/2h weapon",active:!1},{title:"Protection",details:"Protect Allies within 5ft w/shield",active:!1},{title:"Two Weapon Fighting",details:"Add damamge modifier to offhand weapon",active:!1}]},{name:"Second Wind",belongsTo:"Fighter",pgNum:"pg.72",
choices:!1},{name:"Unarmored Defense(wis)",belongsTo:"Monk",pgNum:"pg.78",choices:!1},{name:"Martial Arts",belongsTo:"Monk",pgNum:"pg.78",choices:!1},{name:"Divine Sense",belongsTo:"Paladin",pgNum:"pg.84",choices:!1},{name:"Lay on Hands",belongsTo:"Paladin",pgNum:"pg.84",choices:!1},{name:"Favored Enemy",belongsTo:"Ranger",pgNum:"pg.91",choices:!1},{name:"Natural Explorer",belongsTo:"Ranger",pgNum:"pg.91",choices:!1},{name:"Expertise",belongsTo:"Rogue",pgNum:"pg.96"},{name:"Sneak Attack (1d6)",belongsTo:"Rogue",
pgNum:"pg.96",choices:!1},{name:"Thieves Cant",belongsTo:"Rogue",pgNum:"pg.96",choices:!1},{name:"Sorcerous Origin",belongsTo:"Sorceror",pgNum:"pg.101",choices:[{title:"Draconic Resilience",details:"AC boosted when unarmored",active:!1},{title:"Wild Magic",details:"Wild Magic Surge on a roll of 1; Tides of Chaos 1x/day",active:!1}]},{name:"Arcane Revoery",belongsTo:"Wizard",pgNum:"pg.115"},{name:"Otherworldly Patron",belongsTo:"Warlock",pgNum:"pg.107",choices:[{title:"The Archfey",details:"Details on pg.108",
active:!1},{title:"The Fiend",details:"Details on pg.109",active:!1},{title:"The Great Old One",details:"Details on pg.110",active:"false"}]}];a.determineLaguages=function(){a.knownLanguages=[];for(var b=0;b<a.race.languageArray.length;b++)a.knownLanguages.push(a.languages[a.race.languageArray[b]]);"Human"!==a.race.type&&"Half Elf"!==a.race.type||a.knownLanguages.push(a.languages[Math.floor(15*Math.random())+1]);if(a.selectedBackground)for(var b=a.selectedBackground.languages,c=0;c<b;c++)a.knownLanguages.push(a.languages[Math.floor(15*
Math.random())+1])};a.armorList.getOptions=function(b){var c=[];this.forEach(function(d){for(var e in d)0<=b.indexOf(d[e])&&c.push(d),a.race&&a.race.armorTraining&&0<=a.race.armorTraining.indexOf(d[e])&&0>b.indexOf(d[e])&&c.push(d)});console.log(c);return c};a.determineArmorClass=function(){var b=a.armor.baseAC;switch(a.armor.maxDexBonus){case 5:b+=a.stats[1].mod;break;case 2:b=3>a.stats[1].mod?b+a.stats[1].mod:b+2;break;case 0:b=a.armor.baseAC}a.weapon2&&"Shield"===a.weapon2.name&&(b+=2);console.log("YOU GOT HERE");
a.stats.forEach(function(c){c.label===a.armor.extraStat&&(b+=c.mod)});"Draconic Resilience"===a.chosenFeat.title&&(b=13+a.stats[1].mod);a.armorClass=b};a.meleeWeapons.getOptions=function(b){var c=[];this.forEach(function(d){for(var e in d)0<=b.indexOf(d[e])&&(c.push(d),!0===d.twoHanded&&"Small"===a.race.size&&c.splice(-1,1)),a.race&&a.race.weaponTraining&&0<=a.race.weaponTraining.indexOf(d[e])&&0>b.indexOf(d[e])&&c.push(d)});return c};a.rangedWeapons.getOptions=function(b){var c=[];this.forEach(function(d){for(var e in d)0<=
b.indexOf(d[e])&&(c.push(d),"Longbow"===d.name&&"Small"===a.race.size&&c.splice(-1,1),"Heavy Crossbow"===d.name&&"Small"===a.race.size&&c.splice(-1,1)),a.race&&a.race.weaponTraining&&0<=a.race.weaponTraining.indexOf(d[e])&&0>b.indexOf(d[e])&&c.push(d)});return c};a.chooseMelee=function(b){a.weapon1=b;a.weapon1&&a.findOffHands()};a.chooseOffHand=function(b){a.weapon2=b;a.armor&&a.determineArmorClass()};a.chooseRanged=function(b){a.weapon3=b};a.chooseArmor=function(b){a.armor=b;a.determineArmorClass()};
a.findOffHands=function(){a.offHandChoices=[];for(var b=0;b<a.meleeWeapons.length;b++)!0===a.weapon1.light&&!0===a.meleeWeapons[b].light&&"simple"===a.meleeWeapons[b].type&&a.offHandChoices.push(a.meleeWeapons[b]),!0===a.weapon1.light&&"Shortsword"===a.meleeWeapons[b].name&&"Rogue"===a.selectedClass.type&&a.offHandChoices.push(a.meleeWeapons[b]),!0===a.weapon1.light&&"Shortsword"===a.meleeWeapons[b].name&&"Ranger"===a.selectedClass.type&&a.offHandChoices.push(a.meleeWeapons[b]),!0===a.weapon1.light&&
"Shortsword"===a.meleeWeapons[b].name&&"Fighter"===a.selectedClass.type&&a.offHandChoices.push(a.meleeWeapons[b]),"Martial Arts"===a.weapon1.name&&"Martial Arts"===a.meleeWeapons[b].name&&a.offHandChoices.push(a.meleeWeapons[b]);1!=a.weapon1.twoHanded&&!0===a.selectedClass.hasShield&&a.offHandChoices.push(a.meleeWeapons[a.meleeWeapons.length-1])};a.benefitsToggle=!1;a.revertStats=function(){a.total=27;a.stats=[{label:"str",value:8,modifier:" -1 ",proficient:!1},{label:"dex",value:8,modifier:" -1 ",
proficient:!1},{label:"con",value:8,modifier:" -1 ",proficient:!1},{label:"int",value:8,modifier:" -1 ",proficient:!1},{label:"wis",value:8,modifier:" -1 ",proficient:!1},{label:"cha",value:8,modifier:" -1 ",proficient:!1}]};a.selectedRace=function(b){!0===a.benefitsToggle?(a.applyRacialBenefits(),a.race=b,a.applyRacialBenefits(),a.getAllModifier()):a.race=b;a.selectedClass&&(a.meleeChoices=a.meleeWeapons.getOptions(a.selectedClass.wpn1Choices),a.armorChoices=a.armorList.getOptions(a.selectedClass.armorChoices),
a.rangedChoices=a.rangedWeapons.getOptions(a.selectedClass.rangedChoices));a.selectedBackground&&a.determineLaguages()};a.setClass=function(b){a.selectedClass=b;for(b=0;b<a.stats.length;b++)0<=a.selectedClass.saveThrows.indexOf(b)?a.stats[b].proficient=!0:a.stats[b].proficient=!1;a.selectedBackground&&a.setSkillProficiencies();a.race&&(a.meleeChoices=a.meleeWeapons.getOptions(a.selectedClass.wpn1Choices),a.rangedChoices=a.rangedWeapons.getOptions(a.selectedClass.rangedChoices),a.armorChoices=a.armorList.getOptions(a.selectedClass.armorChoices));
a.weapon1&&a.findOffHands();a.features=[];a.levelOneFeatures.forEach(function(b){b.belongsTo===a.selectedClass.type&&a.features.push(b)});a.chosenFeat=""};a.setBackground=function(b){a.selectedBackground=b;a.setSkillProficiencies();a.determineLaguages();console.log(a.knownLanguages)};a.getModifier=function(a){9>=a.value?(a.modifier=" - 1 ",a.mod=-1):11>=a.value?(a.modifier=" + 0 ",a.mod=0):13>=a.value?(a.modifier=" + 1 ",a.mod=1):15>=a.value?(a.modifier=" + 2 ",a.mod=2):16<=a.value&&(a.mod=3,a.modifier=
" + 3 ")};a.getAllModifier=function(b){for(b=0;b<a.stats.length;b++)a.getModifier(a.stats[b]);a.getSkillModifiers()};a.increaseStat=function(b){!1===a.benefitsToggle&&(15==b.value?console.log("15 point max"):13>b.value&&1<=a.total?(b.value++,a.total--):13<=b.value&&2<=a.total&&(b.value++,a.total-=2),a.getModifier(b));a.getSkillModifiers();a.getSpellSaveDC();a.armor&&a.determineArmorClass()};a.decreaseStat=function(b){!1===a.benefitsToggle&&(8==b.value?console.log("8 point min"):13<b.value?(b.value--,
a.total+=2):13>=b.value&&(b.value--,a.total++),a.getModifier(b));a.getSkillModifiers();a.armor&&a.determineArmorClass()};a.applyRacialBenefits=function(){if(!1===a.benefitsToggle){for(var b=0;b<a.race.increase_array.length;b++)a.stats[a.race.increase_array[b]].value++;a.benefitsToggle=!0}else if(!0===a.benefitsToggle){for(b=0;b<a.race.increase_array.length;b++)a.stats[a.race.increase_array[b]].value--,a.revertHalfElfBonus();a.benefitsToggle=!1}a.getAllModifier();a.getSpellSaveDC();a.armor&&a.determineArmorClass()};
a.bonusStat=function(b,c){b.box?b.value++:b.box||b.value--;a.getAllModifier()};a.limit=2;a.checked=0;a.checkChanged=function(b){b.box?a.checked++:a.checked--};a.revertHalfElfBonus=function(){"Half Elf"!=a.race.type&&angular.forEach(a.stats,function(b,c){!0===b.box&&(b.box=!1,b.value--);a.checked=0})};a.getSkillModifiers=function(){for(var b=0;b<a.skills.length;b++)for(var c=0;c<a.stats.length;c++)a.skills[b].req==a.stats[c].label&&(a.skills[b].mod=a.stats[c].mod)};a.setSkillProficiencies=function(){for(var b=
0;b<a.skills.length;b++)0<=a.selectedBackground.skills.indexOf(a.skills[b].label)?a.skills[b].proficient=!0:a.skills[b].proficient=!1};a.getSpellSaveDC=function(){for(var b=0;b<a.stats.length;b++)a.stats[b].label===a.selectedClass.spellAbility&&(a.spellSaveDC=10+a.stats[b].mod)};a.featureChoice=function(b){a.chosenFeat=b};a.getAllModifier();console.log(a.racesList)});
